language: node_js
node_js:
  - "4"
  - "6"
  - "8"

addons:
  apt:
    packages:
      - oracle-java8-installer
  code_climate:
    repo_token: 205921b25cd059b92e7234ee98533a35f08c81c5debd68dad3e6d468258c0489

before_install:
  - sudo update-java-alternatives -s java-8-oracle
  - export JAVA_HOME=/usr/lib/jvm/java-8-oracle
  - java -version
  - wget https://www.dropbox.com/s/vebuzbdql0w6eap/elassandra_janusgraph_distribution.zip?dl=1 -O elassandra_janusgraph_distribution.zip && unzip elassandra_janusgraph_distribution.zip
  - sh ./elassandra_janusgraph_distribution/elassandra-5.5.0.5/bin/cassandra -e
  - sleep 50
  - bash ./elassandra_janusgraph_distribution/janusgraph-0.2.0/bin/gremlin-server.sh ./conf/gremlin-server/gremlin-server-configuration.yaml &
  - sleep 30
