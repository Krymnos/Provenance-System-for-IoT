'use strict';

var util = require('util');

var AERROR_TYPES = {
  unspecified: {
    msg: 'Unspecified error ->'
  },
  'model.validator.invalidconfig': {
    msg: '%s'
  },
  'model.validator.invalidudt': {
    msg: '%s'
  },
  'model.validator.invalidudf': {
    msg: '%s'
  },
  'model.validator.invaliduda': {
    msg: '%s'
  },
  'model.validator.invalidschema': {
    msg: '%s'
  },
  'model.validator.invalidvalue': {
    msg: '%s'
  },
  'model.tablecreation.invalidname': {
    msg: 'Table names only allow alphanumeric and _ and must start with a letter, got %s'
  },
  'model.tablecreation.dbschemaquery': {
    msg: 'Error while retrieveing Schema of DB Table "%s"'
  },
  'model.tablecreation.schemamismatch': {
    msg: 'Given Schema does not match existing DB Table "%s"\n%s'
  },
  'model.tablecreation.schemanotfound': {
    msg: 'No DB Table was found for Given Schema -> %s'
  },
  'model.tablecreation.dbcreate': {
    msg: 'Error while creating DB Table -> %s'
  },
  'model.tablecreation.dbalter': {
    msg: 'Error while altering DB Table -> %s'
  },
  'model.tablecreation.dbdrop': {
    msg: 'Error while dropping DB Table -> %s'
  },
  'model.tablecreation.dbindexcreate': {
    msg: 'Error while creating index on DB Table -> %s'
  },
  'model.tablecreation.dbindexdrop': {
    msg: 'Error while dropping index on DB Table -> %s'
  },
  'model.tablecreation.matviewcreate': {
    msg: 'Error while creating materialized view on DB Table -> %s'
  },
  'model.tablecreation.matviewdrop': {
    msg: 'Error while dropping materialized view on DB Table -> %s'
  },
  'model.find.invalidop': {
    msg: 'Invalid field relation: unknown operator: "%s"'
  },
  'model.find.invalidexpr': {
    msg: '$expr must be an object containing the index name as string and query as string.'
  },
  'model.find.invalidsolrquery': {
    msg: '$solr_query must be a string containing the query for solr.'
  },
  'model.find.invalidorder': {
    msg: 'Invalid $orderby query, $orderby must be an object'
  },
  'model.find.multiorder': {
    msg: 'Invalid $orderby query: only one clause per object is allowed'
  },
  'model.find.invalidordertype': {
    msg: 'Invalid $orderby query, allowed order: $asc / $desc, given "%s"'
  },
  'model.find.limittype': {
    msg: '$limit must be an integer, given value "%s"'
  },
  'model.find.invalidinop': {
    msg: 'Invalid $in query. $in must be an array'
  },
  'model.find.invalidcontainsop': {
    msg: 'Invalid $contains query, $contains operator is only valid for indexed collections'
  },
  'model.find.invalidcontainskeyop': {
    msg: 'Invalid $contains_key query, $contains_key operator is only valid for indexed map collections'
  },
  'model.find.invalidtoken': {
    msg: 'Invalid $token query. $token must be an object with operator values'
  },
  'model.find.invalidtokenop': {
    msg: 'Invalid operator: "%s" in $token query'
  },
  'model.find.streamerror': {
    msg: 'Invalid stream query -> %s'
  },
  'model.find.eachrowerror': {
    msg: 'Invalid eachRow query -> %s'
  },
  'model.find.cberror': {
    msg: 'No valid callback function was provided'
  },
  'model.find.dberror': {
    msg: 'Error during find query on DB -> %s'
  },
  'model.save.unsetkey': {
    msg: 'Primary Key Field: %s must have a value'
  },
  'model.save.unsetrequired': {
    msg: 'Required Field: %s must have a value'
  },
  'model.save.invaliddefaultvalue': {
    msg: 'Invalid Default value: "%s" for Field: %s (Type: %s)'
  },
  'model.save.dberror': {
    msg: 'Error during save query on DB -> %s'
  },
  'model.save.before.error': {
    msg: 'Error in before_save lifecycle function'
  },
  'model.save.after.error': {
    msg: 'Error in after_save lifecycle function'
  },
  'model.update.unsetkey': {
    msg: 'Primary Key Field: %s must have a value'
  },
  'model.update.unsetrequired': {
    msg: 'Required Field: %s must have a value'
  },
  'model.update.invaliddefaultvalue': {
    msg: 'Invalid Default value: "%s" for Field: %s (Type: %s)'
  },
  'model.update.invalidreplaceop': {
    msg: 'Invalid $replace operation -> %s'
  },
  'model.update.invalidprependop': {
    msg: 'Invalid $prepend operation -> %s'
  },
  'model.update.dberror': {
    msg: 'Error during update query on DB -> %s'
  },
  'model.update.before.error': {
    msg: 'Error in before_update lifecycle function'
  },
  'model.update.after.error': {
    msg: 'Error in after_update lifecycle function'
  },
  'model.delete.dberror': {
    msg: 'Error during delete query on DB -> %s'
  },
  'model.delete.before.error': {
    msg: 'Error in before_delete lifecycle function'
  },
  'model.delete.after.error': {
    msg: 'Error in after_delete lifecycle function'
  }
};

var ERR_NAME_PREFIX = 'apollo';

var buildError = function f() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var argsarray = args;
  var name = argsarray.length ? argsarray.shift() : '_none_given_';

  var errorTemplate = AERROR_TYPES[name] || AERROR_TYPES.unspecified;
  var errorMsg = argsarray.length ? util.format.apply(this, [errorTemplate.msg].concat(argsarray)) : errorTemplate.msg;

  var error = new Error(errorMsg);
  error.name = (ERR_NAME_PREFIX ? util.format('%s.', ERR_NAME_PREFIX) : '') + name;

  return error;
};

module.exports = buildError;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcm0vYXBvbGxvX2Vycm9yLmpzIl0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwiQUVSUk9SX1RZUEVTIiwidW5zcGVjaWZpZWQiLCJtc2ciLCJFUlJfTkFNRV9QUkVGSVgiLCJidWlsZEVycm9yIiwiZiIsImFyZ3MiLCJhcmdzYXJyYXkiLCJuYW1lIiwibGVuZ3RoIiwic2hpZnQiLCJlcnJvclRlbXBsYXRlIiwiZXJyb3JNc2ciLCJmb3JtYXQiLCJhcHBseSIsImNvbmNhdCIsImVycm9yIiwiRXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE9BQU9DLFFBQVEsTUFBUixDQUFiOztBQUVBLElBQU1DLGVBQWU7QUFDbkJDLGVBQWE7QUFDWEMsU0FBSztBQURNLEdBRE07QUFJbkIsbUNBQWlDO0FBQy9CQSxTQUFLO0FBRDBCLEdBSmQ7QUFPbkIsZ0NBQThCO0FBQzVCQSxTQUFLO0FBRHVCLEdBUFg7QUFVbkIsZ0NBQThCO0FBQzVCQSxTQUFLO0FBRHVCLEdBVlg7QUFhbkIsZ0NBQThCO0FBQzVCQSxTQUFLO0FBRHVCLEdBYlg7QUFnQm5CLG1DQUFpQztBQUMvQkEsU0FBSztBQUQwQixHQWhCZDtBQW1CbkIsa0NBQWdDO0FBQzlCQSxTQUFLO0FBRHlCLEdBbkJiO0FBc0JuQixxQ0FBbUM7QUFDakNBLFNBQUs7QUFENEIsR0F0QmhCO0FBeUJuQix1Q0FBcUM7QUFDbkNBLFNBQUs7QUFEOEIsR0F6QmxCO0FBNEJuQix3Q0FBc0M7QUFDcENBLFNBQUs7QUFEK0IsR0E1Qm5CO0FBK0JuQix3Q0FBc0M7QUFDcENBLFNBQUs7QUFEK0IsR0EvQm5CO0FBa0NuQixrQ0FBZ0M7QUFDOUJBLFNBQUs7QUFEeUIsR0FsQ2I7QUFxQ25CLGlDQUErQjtBQUM3QkEsU0FBSztBQUR3QixHQXJDWjtBQXdDbkIsZ0NBQThCO0FBQzVCQSxTQUFLO0FBRHVCLEdBeENYO0FBMkNuQix1Q0FBcUM7QUFDbkNBLFNBQUs7QUFE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QVYsQ0FBZDtBQUNBSSxRQUFNUixJQUFOLEdBQWEsQ0FBQ0wsa0JBQWtCTCxLQUFLZSxNQUFMLENBQVksS0FBWixFQUFtQlYsZUFBbkIsQ0FBbEIsR0FBd0QsRUFBekQsSUFBK0RLLElBQTVFOztBQUVBLFNBQU9RLEtBQVA7QUFDRCxDQWJEOztBQWVBRSxPQUFPQyxPQUFQLEdBQWlCZixVQUFqQiIsImZpbGUiOiJhcG9sbG9fZXJyb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuXG5jb25zdCBBRVJST1JfVFlQRVMgPSB7XG4gIHVuc3BlY2lmaWVkOiB7XG4gICAgbXNnOiAnVW5zcGVjaWZpZWQgZXJyb3IgLT4nLFxuICB9LFxuICAnbW9kZWwudmFsaWRhdG9yLmludmFsaWRjb25maWcnOiB7XG4gICAgbXNnOiAnJXMnLFxuICB9LFxuICAnbW9kZWwudmFsaWRhdG9yLmludmFsaWR1ZHQnOiB7XG4gICAgbXNnOiAnJXMnLFxuICB9LFxuICAnbW9kZWwudmFsaWRhdG9yLmludmFsaWR1ZGYnOiB7XG4gICAgbXNnOiAnJXMnLFxuICB9LFxuICAnbW9kZWwudmFsaWRhdG9yLmludmFsaWR1ZGEnOiB7XG4gICAgbXNnOiAnJXMnLFxuICB9LFxuICAnbW9kZWwudmFsaWRhdG9yLmludmFsaWRzY2hlbWEnOiB7XG4gICAgbXNnOiAnJXMnLFxuICB9LFxuICAnbW9kZWwudmFsaWRhdG9yLmludmFsaWR2YWx1ZSc6IHtcbiAgICBtc2c6ICclcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLmludmFsaWRuYW1lJzoge1xuICAgIG1zZzogJ1RhYmxlIG5hbWVzIG9ubHkgYWxsb3cgYWxwaGFudW1lcmljIGFuZCBfIGFuZCBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIsIGdvdCAlcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLmRic2NoZW1hcXVlcnknOiB7XG4gICAgbXNnOiAnRXJyb3Igd2hpbGUgcmV0cmlldmVpbmcgU2NoZW1hIG9mIERCIFRhYmxlIFwiJXNcIicsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLnNjaGVtYW1pc21hdGNoJzoge1xuICAgIG1zZzogJ0dpdmVuIFNjaGVtYSBkb2VzIG5vdCBtYXRjaCBleGlzdGluZyBEQiBUYWJsZSBcIiVzXCJcXG4lcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLnNjaGVtYW5vdGZvdW5kJzoge1xuICAgIG1zZzogJ05vIERCIFRhYmxlIHdhcyBmb3VuZCBmb3IgR2l2ZW4gU2NoZW1hIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnRhYmxlY3JlYXRpb24uZGJjcmVhdGUnOiB7XG4gICAgbXNnOiAnRXJyb3Igd2hpbGUgY3JlYXRpbmcgREIgVGFibGUgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudGFibGVjcmVhdGlvbi5kYmFsdGVyJzoge1xuICAgIG1zZzogJ0Vycm9yIHdoaWxlIGFsdGVyaW5nIERCIFRhYmxlIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnRhYmxlY3JlYXRpb24uZGJkcm9wJzoge1xuICAgIG1zZzogJ0Vycm9yIHdoaWxlIGRyb3BwaW5nIERCIFRhYmxlIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnRhYmxlY3JlYXRpb24uZGJpbmRleGNyZWF0ZSc6IHtcbiAgICBtc2c6ICdFcnJvciB3aGlsZSBjcmVhdGluZyBpbmRleCBvbiBEQiBUYWJsZSAtPiAlcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLmRiaW5kZXhkcm9wJzoge1xuICAgIG1zZzogJ0Vycm9yIHdoaWxlIGRyb3BwaW5nIGluZGV4IG9uIERCIFRhYmxlIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnRhYmxlY3JlYXRpb24ubWF0dmlld2NyZWF0ZSc6IHtcbiAgICBtc2c6ICdFcnJvciB3aGlsZSBjcmVhdGluZyBtYXRlcmlhbGl6ZWQgdmlldyBvbiBEQiBUYWJsZSAtPiAlcycsXG4gIH0sXG4gICdtb2RlbC50YWJsZWNyZWF0aW9uLm1hdHZpZXdkcm9wJzoge1xuICAgIG1zZzogJ0Vycm9yIHdoaWxlIGRyb3BwaW5nIG1hdGVyaWFsaXplZCB2aWV3IG9uIERCIFRhYmxlIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZG9wJzoge1xuICAgIG1zZzogJ0ludmFsaWQgZmllbGQgcmVsYXRpb246IHVua25vd24gb3BlcmF0b3I6IFwiJXNcIicsXG4gIH0sXG4gICdtb2RlbC5maW5kLmludmFsaWRleHByJzoge1xuICAgIG1zZzogJyRleHByIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluZGV4IG5hbWUgYXMgc3RyaW5nIGFuZCBxdWVyeSBhcyBzdHJpbmcuJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZHNvbHJxdWVyeSc6IHtcbiAgICBtc2c6ICckc29scl9xdWVyeSBtdXN0IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHF1ZXJ5IGZvciBzb2xyLicsXG4gIH0sXG4gICdtb2RlbC5maW5kLmludmFsaWRvcmRlcic6IHtcbiAgICBtc2c6ICdJbnZhbGlkICRvcmRlcmJ5IHF1ZXJ5LCAkb3JkZXJieSBtdXN0IGJlIGFuIG9iamVjdCcsXG4gIH0sXG4gICdtb2RlbC5maW5kLm11bHRpb3JkZXInOiB7XG4gICAgbXNnOiAnSW52YWxpZCAkb3JkZXJieSBxdWVyeTogb25seSBvbmUgY2xhdXNlIHBlciBvYmplY3QgaXMgYWxsb3dlZCcsXG4gIH0sXG4gICdtb2RlbC5maW5kLmludmFsaWRvcmRlcnR5cGUnOiB7XG4gICAgbXNnOiAnSW52YWxpZCAkb3JkZXJieSBxdWVyeSwgYWxsb3dlZCBvcmRlcjogJGFzYyAvICRkZXNjLCBnaXZlbiBcIiVzXCInLFxuICB9LFxuICAnbW9kZWwuZmluZC5saW1pdHR5cGUnOiB7XG4gICAgbXNnOiAnJGxpbWl0IG11c3QgYmUgYW4gaW50ZWdlciwgZ2l2ZW4gdmFsdWUgXCIlc1wiJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZGlub3AnOiB7XG4gICAgbXNnOiAnSW52YWxpZCAkaW4gcXVlcnkuICRpbiBtdXN0IGJlIGFuIGFycmF5JyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZGNvbnRhaW5zb3AnOiB7XG4gICAgbXNnOiAnSW52YWxpZCAkY29udGFpbnMgcXVlcnksICRjb250YWlucyBvcGVyYXRvciBpcyBvbmx5IHZhbGlkIGZvciBpbmRleGVkIGNvbGxlY3Rpb25zJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZGNvbnRhaW5za2V5b3AnOiB7XG4gICAgbXNnOiAnSW52YWxpZCAkY29udGFpbnNfa2V5IHF1ZXJ5LCAkY29udGFpbnNfa2V5IG9wZXJhdG9yIGlzIG9ubHkgdmFsaWQgZm9yIGluZGV4ZWQgbWFwIGNvbGxlY3Rpb25zJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuaW52YWxpZHRva2VuJzoge1xuICAgIG1zZzogJ0ludmFsaWQgJHRva2VuIHF1ZXJ5LiAkdG9rZW4gbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCBvcGVyYXRvciB2YWx1ZXMnLFxuICB9LFxuICAnbW9kZWwuZmluZC5pbnZhbGlkdG9rZW5vcCc6IHtcbiAgICBtc2c6ICdJbnZhbGlkIG9wZXJhdG9yOiBcIiVzXCIgaW4gJHRva2VuIHF1ZXJ5JyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuc3RyZWFtZXJyb3InOiB7XG4gICAgbXNnOiAnSW52YWxpZCBzdHJlYW0gcXVlcnkgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwuZmluZC5lYWNocm93ZXJyb3InOiB7XG4gICAgbXNnOiAnSW52YWxpZCBlYWNoUm93IHF1ZXJ5IC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLmZpbmQuY2JlcnJvcic6IHtcbiAgICBtc2c6ICdObyB2YWxpZCBjYWxsYmFjayBmdW5jdGlvbiB3YXMgcHJvdmlkZWQnLFxuICB9LFxuICAnbW9kZWwuZmluZC5kYmVycm9yJzoge1xuICAgIG1zZzogJ0Vycm9yIGR1cmluZyBmaW5kIHF1ZXJ5IG9uIERCIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnNhdmUudW5zZXRrZXknOiB7XG4gICAgbXNnOiAnUHJpbWFyeSBLZXkgRmllbGQ6ICVzIG11c3QgaGF2ZSBhIHZhbHVlJyxcbiAgfSxcbiAgJ21vZGVsLnNhdmUudW5zZXRyZXF1aXJlZCc6IHtcbiAgICBtc2c6ICdSZXF1aXJlZCBGaWVsZDogJXMgbXVzdCBoYXZlIGEgdmFsdWUnLFxuICB9LFxuICAnbW9kZWwuc2F2ZS5pbnZhbGlkZGVmYXVsdHZhbHVlJzoge1xuICAgIG1zZzogJ0ludmFsaWQgRGVmYXVsdCB2YWx1ZTogXCIlc1wiIGZvciBGaWVsZDogJXMgKFR5cGU6ICVzKScsXG4gIH0sXG4gICdtb2RlbC5zYXZlLmRiZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgZHVyaW5nIHNhdmUgcXVlcnkgb24gREIgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwuc2F2ZS5iZWZvcmUuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYmVmb3JlX3NhdmUgbGlmZWN5Y2xlIGZ1bmN0aW9uJyxcbiAgfSxcbiAgJ21vZGVsLnNhdmUuYWZ0ZXIuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYWZ0ZXJfc2F2ZSBsaWZlY3ljbGUgZnVuY3Rpb24nLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLnVuc2V0a2V5Jzoge1xuICAgIG1zZzogJ1ByaW1hcnkgS2V5IEZpZWxkOiAlcyBtdXN0IGhhdmUgYSB2YWx1ZScsXG4gIH0sXG4gICdtb2RlbC51cGRhdGUudW5zZXRyZXF1aXJlZCc6IHtcbiAgICBtc2c6ICdSZXF1aXJlZCBGaWVsZDogJXMgbXVzdCBoYXZlIGEgdmFsdWUnLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLmludmFsaWRkZWZhdWx0dmFsdWUnOiB7XG4gICAgbXNnOiAnSW52YWxpZCBEZWZhdWx0IHZhbHVlOiBcIiVzXCIgZm9yIEZpZWxkOiAlcyAoVHlwZTogJXMpJyxcbiAgfSxcbiAgJ21vZGVsLnVwZGF0ZS5pbnZhbGlkcmVwbGFjZW9wJzoge1xuICAgIG1zZzogJ0ludmFsaWQgJHJlcGxhY2Ugb3BlcmF0aW9uIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnVwZGF0ZS5pbnZhbGlkcHJlcGVuZG9wJzoge1xuICAgIG1zZzogJ0ludmFsaWQgJHByZXBlbmQgb3BlcmF0aW9uIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLnVwZGF0ZS5kYmVycm9yJzoge1xuICAgIG1zZzogJ0Vycm9yIGR1cmluZyB1cGRhdGUgcXVlcnkgb24gREIgLT4gJXMnLFxuICB9LFxuICAnbW9kZWwudXBkYXRlLmJlZm9yZS5lcnJvcic6IHtcbiAgICBtc2c6ICdFcnJvciBpbiBiZWZvcmVfdXBkYXRlIGxpZmVjeWNsZSBmdW5jdGlvbicsXG4gIH0sXG4gICdtb2RlbC51cGRhdGUuYWZ0ZXIuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYWZ0ZXJfdXBkYXRlIGxpZmVjeWNsZSBmdW5jdGlvbicsXG4gIH0sXG4gICdtb2RlbC5kZWxldGUuZGJlcnJvcic6IHtcbiAgICBtc2c6ICdFcnJvciBkdXJpbmcgZGVsZXRlIHF1ZXJ5IG9uIERCIC0+ICVzJyxcbiAgfSxcbiAgJ21vZGVsLmRlbGV0ZS5iZWZvcmUuZXJyb3InOiB7XG4gICAgbXNnOiAnRXJyb3IgaW4gYmVmb3JlX2RlbGV0ZSBsaWZlY3ljbGUgZnVuY3Rpb24nLFxuICB9LFxuICAnbW9kZWwuZGVsZXRlLmFmdGVyLmVycm9yJzoge1xuICAgIG1zZzogJ0Vycm9yIGluIGFmdGVyX2RlbGV0ZSBsaWZlY3ljbGUgZnVuY3Rpb24nLFxuICB9LFxufTtcblxuY29uc3QgRVJSX05BTUVfUFJFRklYID0gJ2Fwb2xsbyc7XG5cbmNvbnN0IGJ1aWxkRXJyb3IgPSBmdW5jdGlvbiBmKC4uLmFyZ3MpIHtcbiAgY29uc3QgYXJnc2FycmF5ID0gYXJncztcbiAgY29uc3QgbmFtZSA9IGFyZ3NhcnJheS5sZW5ndGggPyBhcmdzYXJyYXkuc2hpZnQoKSA6ICdfbm9uZV9naXZlbl8nO1xuXG4gIGNvbnN0IGVycm9yVGVtcGxhdGUgPSBBRVJST1JfVFlQRVNbbmFtZV0gfHwgQUVSUk9SX1RZUEVTLnVuc3BlY2lmaWVkO1xuICBjb25zdCBlcnJvck1zZyA9IGFyZ3NhcnJheS5sZW5ndGggP1xuICAgIHV0aWwuZm9ybWF0LmFwcGx5KHRoaXMsIFtlcnJvclRlbXBsYXRlLm1zZ10uY29uY2F0KGFyZ3NhcnJheSkpIDpcbiAgICBlcnJvclRlbXBsYXRlLm1zZztcblxuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihlcnJvck1zZyk7XG4gIGVycm9yLm5hbWUgPSAoRVJSX05BTUVfUFJFRklYID8gdXRpbC5mb3JtYXQoJyVzLicsIEVSUl9OQU1FX1BSRUZJWCkgOiAnJykgKyBuYW1lO1xuXG4gIHJldHVybiBlcnJvcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYnVpbGRFcnJvcjtcbiJdfQ==